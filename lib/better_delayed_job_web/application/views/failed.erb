<h2 class="sub-header">Failed Jobs</h2>
<p class="lead">
  Here are the list of jobs that failed during execution.
</p>
<% if @jobs.any? %>
<div class="col-md-6 job-actions">
  <form action="<%= u('failed/clear') %>" method="POST">
    <%= csrf_token_tag %>
    <button type="submit" value="Clear Failed Jobs" class="btn btn-warning">Clear Jobs</button>
  </form>
  </div>
  <div class="col-md-6 job-actions">
  <form action="<%= u('requeue/all') %>" method="POST">
    <%= csrf_token_tag %>
    <button type="submit" value="Retry Failed Jobs" class="btn btn-default">Retry Jobs</button>
  </form>
  </div>
<% end %>
<!-- <p class="text-info">
  The list below contains all jobs that have a last_error message set.
</p> -->
<p class="sub">
  <%= "Showing #{start} to #{start + per_page} of #{@all_jobs.count} failed jobs." %>
</p>
<ul class="failed job">
  <% @jobs.each do |job| %>
    <%= partial :job, {:job => job} %>
  <% end %>
</ul>
<%= partial :next_more, :start => start, :total_size => @all_jobs.count, :per_page => per_page %>
